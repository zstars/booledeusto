/*$T boole/Boole2/Unit13.cpp GC! 1.116 05/02/01 18:53:25 */


/*$6
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 */


#include <vcl/vcl.h>
#pragma hdrstop
#include "Unit13.h"
#include "V_Boole2.h"
#pragma resource "*.dfm"
TForm13 *Form13;

/*
 =======================================================================================================================
 =======================================================================================================================
 */
__fastcall TForm13::TForm13(TComponent *Owner) :
	TForm(Owner)
{
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm13::Button1Click(TObject *Sender)
{
	Form1Boole2->Enabled = True;
	Form1Boole2->SetFocus();
	Form1Boole2->Deseleccionar();
	Edit1->Text = "";
	Form13->Hide();
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm13::Edit2Change(TObject *Sender)
{
	/*~~~~~~~~~~~~~~~~~~~*/
	AnsiString	Frase = "";
	int			i, tam;
	/*~~~~~~~~~~~~~~~~~~~*/

	tam = Edit2->GetTextLen();
	for(i = 1; i <= tam; i++)
	{
		if((Edit2->Text[i] == '1') || (Edit2->Text[i] == '0') || (Edit2->Text[i] == 'X'))
		{
			Frase += Edit2->Text[i];
		}
	}

	Edit2->Text = Frase;
	tam = Edit2->GetTextLen();
	Edit2->SelStart = tam;
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm13::Edit1Change(TObject *Sender)
{
	/*~~~~*/
	// si se completa continua en el segundo edit
	int tam;
	/*~~~~*/

	tam = Edit1->GetTextLen();
	if(tam == Edit1->MaxLength)
	{
		ActiveControl = Edit2;
		Edit2->SelStart = Edit2->GetTextLen();
	}
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm13::Button2Click(TObject *Sender)
{
	if(Edit1->GetTextLen() > 0)
	{
		if(Edit2->GetTextLen() == Edit2->MaxLength)
		{
			Form1Boole2->PonEtEstadoMoore(Form13->Edit1->Text, Form13->Edit2->Text);
			Form1Boole2->Enabled = True;
			Form1Boole2->SetFocus();
			Form13->Hide();
		}
		else
		{
			ActiveControl = Edit2;
			Edit2->SelStart = Edit2->GetTextLen();
		}
	}
	else
	{
		ActiveControl = Edit1;
		Edit1->SelStart = Edit1->GetTextLen();
	}
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm13::FormHide(TObject *Sender)
{
	Form1Boole2->Timer1->Enabled = true;
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm13::FormShow(TObject *Sender)
{
	ActiveControl = Edit1;
	Edit2->MaxLength = Form1Boole2->DameNumCarSal();
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm13::Edit2KeyUp(TObject *Sender, WORD &Key, TShiftState Shift)
{
	if(Key == 13)
	{
		Button2Click(Sender);
	}
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm13::Edit1KeyUp(TObject *Sender, WORD &Key, TShiftState Shift)
{
	if(Key == 13)
	{
		Button2Click(Sender);
	}
}
