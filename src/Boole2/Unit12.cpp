/*$T boole/Boole2/Unit12.cpp GC! 1.116 05/02/01 18:53:25 */


/*$6
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 */


#include <vcl/vcl.h>
#pragma hdrstop
#include "Unit12.h"
#include "V_Boole2.h"
#pragma resource "*.dfm"
TForm12 *Form12;

/*
 =======================================================================================================================
 =======================================================================================================================
 */
__fastcall TForm12::TForm12(TComponent *Owner) :
	TForm(Owner)
{
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm12::Button1Click(TObject *Sender)
{
	Form1Boole2->Enabled = True;
	Form1Boole2->SetFocus();
	Form1Boole2->Deseleccionar();
	Edit1->Text = "";
	Form12->Hide();
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm12::Button2Click(TObject *Sender)
{
	if(Edit1->GetTextLen() == Edit1->MaxLength)
	{
		Form1Boole2->PonEtTransicionMoore(Form12->Edit1->Text);
		Form1Boole2->Enabled = True;
		Form1Boole2->SetFocus();
		Form12->Hide();
	}
	else
	{
		ActiveControl = Edit1;
		Edit1->SelStart = Edit1->GetTextLen();
	}
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm12::FormHide(TObject *Sender)
{
	Form1Boole2->Timer1->Enabled = true;
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm12::FormShow(TObject *Sender)
{
	ActiveControl = Edit1;
	Edit1->MaxLength = Form1Boole2->DameNumCarEnt();
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm12::Edit1Change(TObject *Sender)
{
	/*~~~~~~~~~~~~~~~~~~~*/
	AnsiString	Frase = "";
	int			i, tam;
	/*~~~~~~~~~~~~~~~~~~~*/

	tam = Edit1->GetTextLen();
	for(i = 1; i <= tam; i++)
	{
		if((Edit1->Text[i] == '1') || (Edit1->Text[i] == '0') || (Edit1->Text[i] == 'X'))
		{
			Frase += Edit1->Text[i];
		}
	}

	Edit1->Text = Frase;
	tam = Edit1->GetTextLen();
	Edit1->SelStart = tam;
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void __fastcall TForm12::Edit1KeyUp(TObject *Sender, WORD &Key, TShiftState Shift)
{
	if(Key == 13)
	{
		Button2Click(Sender);
	}
}
